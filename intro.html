

<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Introduction &mdash; PyPot 1.5.0 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/my-css.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-3.0.0/css/bootstrap-theme.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.5.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="PyPot 1.5.0 documentation" href="index.html" />
    <link rel="next" title="Tutorial" href="tutorial.html" />
    <link rel="prev" title="Welcome to PyPot’s documentation!" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">
          PyPot</a>
        <span class="navbar-text navbar-version pull-left"><b>1.5.0</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">Introduction</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#what-is-pypot">What is PyPot?</a></li>
<li class="toctree-l2"><a class="reference internal" href="#installation">Installation</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#via-python-packages">Via Python Packages</a></li>
<li class="toctree-l3"><a class="reference internal" href="#from-the-source-code">From the source code</a></li>
<li class="toctree-l3"><a class="reference internal" href="#testing-your-install">Testing your install</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#quickstart-playing-with-an-ergo-robot">QuickStart: playing with an Ergo-Robot</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#building-your-own-ergo-robot">Building your own Ergo-Robot</a></li>
<li class="toctree-l3"><a class="reference internal" href="#connecting-the-robot-to-your-computer">Connecting the robot to your computer</a></li>
<li class="toctree-l3"><a class="reference internal" href="#controlling-your-ergo-robot">Controlling your Ergo-Robot</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tutorial.html">Tutorial</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#low-level-api">Low-level API</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#opening-closing-a-communication-port">Opening/Closing a communication port</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#finding-motors">Finding motors</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#low-level-control">Low-level control</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#robot-controller">Robot Controller</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#using-the-robot-abstraction">Using the robot abstraction</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#writing-the-configuration">Writing the configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#dynamixel-controller-and-synchronization-loop">Dynamixel controller and Synchronization Loop</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#controlling-your-robot">Controlling your robot</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#controlling-in-position">Controlling in position</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#controlling-in-speed">Controlling in speed</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#primitive">Primitive</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#what-do-we-call-primitive">What do we call &#8220;Primitive&#8221;?</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#writing-your-own-primitive">Writing your own primitive</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#starting-pausing-primitives">Starting/pausing primitives</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#attaching-a-primitive-to-the-robot">Attaching a primitive to the robot</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tutorial.html#remote-access">Remote Access</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#protocol">Protocol</a><ul>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#get-request">Get Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#set-request">Set Request</a></li>
<li class="toctree-l4"><a class="reference internal" href="tutorial.html#call-request">Call Request</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#zmq-server">Zmq Server</a></li>
<li class="toctree-l3"><a class="reference internal" href="tutorial.html#http-server">Http Server</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="tools.html">Tools</a><ul>
<li class="toctree-l2"><a class="reference internal" href="tools.html#logging">Logging</a><ul>
<li class="toctree-l3"><a class="reference internal" href="tools.html#logging-structure">Logging structure</a></li>
<li class="toctree-l3"><a class="reference internal" href="tools.html#using-pypot-s-logging">Using Pypot&#8217;s logging</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="tools.html#herborist-the-configuration-tool">Herborist: the configuration tool</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="FAQ.html">FAQ</a><ul>
<li class="toctree-l2"><a class="reference internal" href="FAQ.html#why-is-the-default-baud-rate-different-for-robotis-and-for-pypot">Why is the default baud rate different for robotis and for PyPot ?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="knownissues.html">Known Issues</a><ul>
<li class="toctree-l2"><a class="reference internal" href="knownissues.html#issue-with-usb2ax-driver-on-mac-os">Issue with USB2AX driver on Mac OS</a></li>
<li class="toctree-l2"><a class="reference internal" href="knownissues.html#usb2dynamixel-driver-performance-on-mac-os">USB2Dynamixel driver performance on Mac OS</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.html">PyPot&#8217;s API</a><ul>
<li class="toctree-l2"><a class="reference internal" href="pypot.dynamixel.html"><tt class="docutils literal"><span class="pre">dynamixel</span></tt> Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pypot.dynamixel.html#module-pypot.dynamixel.io"><tt class="docutils literal"><span class="pre">io</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.dynamixel.html#module-pypot.dynamixel.motor"><tt class="docutils literal"><span class="pre">motor</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.dynamixel.html#module-pypot.dynamixel.controller"><tt class="docutils literal"><span class="pre">controller</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.dynamixel.html#module-pypot.dynamixel.error"><tt class="docutils literal"><span class="pre">error</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.dynamixel.html#module-pypot.dynamixel.conversion"><tt class="docutils literal"><span class="pre">conversion</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.dynamixel.html#module-pypot.dynamixel.packet"><tt class="docutils literal"><span class="pre">packet</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pypot.primitive.html"><tt class="docutils literal"><span class="pre">primitive</span></tt> Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pypot.primitive.html#module-pypot.primitive.primitive"><tt class="docutils literal"><span class="pre">primitive</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.primitive.html#module-pypot.primitive.manager"><tt class="docutils literal"><span class="pre">manager</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.primitive.html#module-pypot.primitive.utils"><tt class="docutils literal"><span class="pre">utils</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pypot.robot.html"><tt class="docutils literal"><span class="pre">robot</span></tt> Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pypot.robot.html#module-pypot.robot.robot"><tt class="docutils literal"><span class="pre">robot</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.robot.html#module-pypot.robot.config"><tt class="docutils literal"><span class="pre">config</span></tt> Module</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="pypot.server.html"><tt class="docutils literal"><span class="pre">server</span></tt> Package</a><ul>
<li class="toctree-l3"><a class="reference internal" href="pypot.server.html#module-pypot.server.request"><tt class="docutils literal"><span class="pre">request</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.server.html#module-pypot.server.server"><tt class="docutils literal"><span class="pre">server</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.server.html#module-pypot.server.httpserver"><tt class="docutils literal"><span class="pre">httpserver</span></tt> Module</a></li>
<li class="toctree-l3"><a class="reference internal" href="pypot.server.html#module-pypot.server.zmqserver"><tt class="docutils literal"><span class="pre">zmqserver</span></tt> Module</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">Introduction</a><ul>
<li><a class="reference internal" href="#what-is-pypot">What is PyPot?</a></li>
<li><a class="reference internal" href="#installation">Installation</a><ul>
<li><a class="reference internal" href="#via-python-packages">Via Python Packages</a></li>
<li><a class="reference internal" href="#from-the-source-code">From the source code</a></li>
<li><a class="reference internal" href="#testing-your-install">Testing your install</a></li>
</ul>
</li>
<li><a class="reference internal" href="#quickstart-playing-with-an-ergo-robot">QuickStart: playing with an Ergo-Robot</a><ul>
<li><a class="reference internal" href="#building-your-own-ergo-robot">Building your own Ergo-Robot</a></li>
<li><a class="reference internal" href="#connecting-the-robot-to-your-computer">Connecting the robot to your computer</a></li>
<li><a class="reference internal" href="#controlling-your-ergo-robot">Controlling your Ergo-Robot</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li>
    <a href="index.html" title="Previous Chapter: Welcome to PyPot’s documentation!"><span class="glyphicon glyphicon-chevron-left visible-sm"></span><span class="hidden-sm">&laquo; Welcome to PyPot...</span>
    </a>
  </li>
  <li>
    <a href="tutorial.html" title="Next Chapter: Tutorial"><span class="glyphicon glyphicon-chevron-right visible-sm"></span><span class="hidden-sm">Tutorial &raquo;</span>
    </a>
  </li>
              
            
            
            
            
              <li class="hidden-sm">
<div id="sourcelink">
  <a href="_sources/intro.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="introduction">
<h1>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h1>
<div class="section" id="what-is-pypot">
<h2>What is PyPot?<a class="headerlink" href="#what-is-pypot" title="Permalink to this headline">¶</a></h2>
<p>PyPot is a framework developed in the <a class="reference external" href="https://flowers.inria.fr/">Inria FLOWERS</a> team to make it easy and fast to control custom robots based on dynamixel motors. This framework provides different level of abstraction corresponding to different types of use. More precisely, you can use PyPot to:</p>
<ul class="simple">
<li>directly control robotis motors through a USB2serial device,</li>
<li>define the structure of your particular robot and control it through high-level commands.</li>
</ul>
<p>PyPot has been entirely written in Python to allow for fast development, easy deployment and quick scripting by non-necessary expert developers. The serial communication is handled through the standard library and thus allows for rather high performance (10ms sensorimotor loop). It is crossed-platform and has been tested on Linux, Windows and Mac OS. It is distributed under the <a class="reference external" href="http://www.gnu.org/copyleft/gpl.html">GPL V3 open source license</a>.</p>
<p>The next sections describe how to <a class="reference internal" href="#installation"><em>install</em></a> PyPot on your system and then the <a class="reference internal" href="#quickstart"><em>first steps to control an Ergo-Robot</em></a>. If you decide to use PyPot and want more details on what you can do with this framework, you can refer to the <a class="reference internal" href="tutorial.html"><em>tutorial</em></a>.</p>
</div>
<div class="section" id="installation">
<span id="id1"></span><h2>Installation<a class="headerlink" href="#installation" title="Permalink to this headline">¶</a></h2>
<div class="section" id="via-python-packages">
<h3>Via Python Packages<a class="headerlink" href="#via-python-packages" title="Permalink to this headline">¶</a></h3>
<p>The PyPot package is entirely written in Python. So, the install process should be rather straightforward. You can directly install it via easy_install or pip:</p>
<div class="highlight-python"><div class="highlight"><pre>pip install pypot
</pre></div>
</div>
<p>or:</p>
<div class="highlight-python"><div class="highlight"><pre>easy_install pypot
</pre></div>
</div>
<p>The up to date archive can also be directly downloaded <a class="reference external" href="https://pypi.python.org/pypi/pypot/">here</a>.</p>
</div>
<div class="section" id="from-the-source-code">
<h3>From the source code<a class="headerlink" href="#from-the-source-code" title="Permalink to this headline">¶</a></h3>
<p>You can also install it from the source. You can clone/fork our repo directly on <a class="reference external" href="https://github.com/poppy-project/pypot">github</a>.</p>
<p>Before you start building PyPot, you need to make sure that the following packages are already installed on your computer:</p>
<ul class="simple">
<li><a class="reference external" href="http://www.python.org">python</a> 2.7 or 3</li>
<li><a class="reference external" href="http://pyserial.sourceforge.net/">pyserial</a> 2.6 (or later)</li>
<li><a class="reference external" href="http://www.numpy.org">numpy</a></li>
</ul>
<p>Other optional packages may be installed depending on your needs:</p>
<ul class="simple">
<li><a class="reference external" href="http://sphinx-doc.org/index.html">sphinx</a> (to build the doc)</li>
<li><a class="reference external" href="http://www.riverbankcomputing.com/software/pyqt/intro">PyQt4</a> (for the graphical tools)</li>
</ul>
<p>Once it is done, you can build and install PyPot with the classical:</p>
<div class="highlight-python"><div class="highlight"><pre>cd PyPot
python setup.py build
python setup.py install
</pre></div>
</div>
</div>
<div class="section" id="testing-your-install">
<h3>Testing your install<a class="headerlink" href="#testing-your-install" title="Permalink to this headline">¶</a></h3>
<p>You can test if the installation went well with:</p>
<div class="highlight-python"><div class="highlight"><pre>python -m &quot;import pypot&quot;
</pre></div>
</div>
<p>You will also have to install the driver for the USB2serial port. There are two devices that have been tested with PyPot that could be used:</p>
<ul class="simple">
<li>USB2AX - this device is designed to manage TTL communication only</li>
<li>USB2Dynamixel - this device can manage both TTL and RS485 communication.</li>
</ul>
<p>On Windows and Mac, it will be necessary to download and install a FTDI (VCP) driver to run the USB2Dynamixel, you can find it <a class="reference external" href="http://www.ftdichip.com/Drivers/VCP.htm">here</a>. Linux distributions should already come with an appropriate driver. The USB2AX device should not require a driver installation under MAC or Linux, it should already exist. For Windows XP, it should automatically install the correct driver.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">On the side of the USB2Dynamixel there is a switch. This is used to select the bus you wish to communicate on. This means that you cannot control two different bus protocols at the same time.</p>
</div>
<p>At this point you should have a PyPot ready to be used! In the extremely unlikely case where anything went wrong during the installation, please refer to the <a class="reference internal" href="knownissues.html"><em>Known Issues</em></a>.</p>
</div>
</div>
<div class="section" id="quickstart-playing-with-an-ergo-robot">
<span id="quickstart"></span><h2>QuickStart: playing with an Ergo-Robot<a class="headerlink" href="#quickstart-playing-with-an-ergo-robot" title="Permalink to this headline">¶</a></h2>
<p>To let you discover what you can do with PyPot, in this section we describe the few steps required to make a robot build from robotis motor dance. This short introduction will in particular describe you:</p>
<ul class="simple">
<li>how to define your robot within the software,</li>
<li>how to connect it to your computer,</li>
<li>and finally how to control it.</li>
</ul>
<p>We have developed in our team the Ergo-Robot as a way to explore large scale long term robotic experiments outside of the lab and we have made the whole hardware and software architecture available publicly in an open-source manner so that other research team in the world can use it and leverage our efforts for their own research. As a consequence, you can easily build your own Ergo-Robot.</p>
<p>In this Quick Start, we will use this robot as a base and thus assume that you are using such a robot. Obviously, you can transpose all the following examples to any particular robot made from robotis motor.</p>
<div class="section" id="building-your-own-ergo-robot">
<h3>Building your own Ergo-Robot<a class="headerlink" href="#building-your-own-ergo-robot" title="Permalink to this headline">¶</a></h3>
<p>Ergo-Robots have been developed for an art exhibition in Fondation Cartier: <a class="reference external" href="http://fondation.cartier.com/#/en/art-contemporain/26/exhibitions/294/all-the-exhibitions/89/mathematics-a-beautiful-elsewhere/">Mathematics a beautiful elsewhere</a>. They are small creatures made from robotis motors and shaped as a stem with a head designed by David Lynch. They were developed to explore research topics such as artificial curiosity and language games. The robots were used during 5 months at the exhibition. More details on the whole project can be found <a class="reference external" href="https://flowers.inria.fr/ergo-robots-fr.php">here</a>.</p>
<a class="reference internal image-reference" href="_images/ErgoRobots.jpg"><img alt="_images/ErgoRobots.jpg" class="align-center" src="_images/ErgoRobots.jpg" style="height: 400px;" /></a>
<p>The complete instructions to build your own Ergo-Robot are available <a class="reference external" href="https://wiki.bordeaux.inria.fr/flowers/doku.php?id=robot:ergorobot:construction">here</a>.</p>
</div>
<div class="section" id="connecting-the-robot-to-your-computer">
<h3>Connecting the robot to your computer<a class="headerlink" href="#connecting-the-robot-to-your-computer" title="Permalink to this headline">¶</a></h3>
<p>Now that you have your own robot, let&#8217;s start writing the code necessary to control it.</p>
<p>The first step is to setup the configuration for your robot. It will describe the motor configuration of your robot, the USB2serial controller used and make the initialization really easy. Configurations are described as Python dictionaries. Yet, they can be quite repetitive to write. Luckily, the PyPot package comes with an example of a configuration for an Ergo-Robot. You can first import it, so you can modify it:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">from</span> <span class="nn">pypot.robot.config</span> <span class="kn">import</span> <span class="n">ergo_robot_config</span>
</pre></div>
</div>
<p>If you do some introspection on this object, you will see that it is just a regular Python dictionary. So you can directly edit it like you will do with any other dict. You can also copy the one provided with PyPot and work with your own copy:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">my_config</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="n">ergo_robot_config</span><span class="p">)</span>
<span class="n">my_config</span><span class="p">[</span><span class="s">&#39;controllers&#39;</span><span class="p">][</span><span class="s">&#39;port&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s">&#39;COM6&#39;</span> <span class="c"># For Windows&#39; users</span>
</pre></div>
</div>
<p>You will only have to modify the USB2serial port and the id of the motors so they correspond to your robot. If you do not know how to get this information, you can refer to the documentation on the <a class="reference internal" href="tools.html#herborist"><em>Herborist tool</em></a>. Alternatively, you can directly ask PyPot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pypot.dynamixel</span>

<span class="k">print</span> <span class="n">pypot</span><span class="o">.</span><span class="n">dynamixel</span><span class="o">.</span><span class="n">get_available_ports</span><span class="p">()</span>
<span class="p">[</span><span class="s">&#39;/dev/tty.usbserial-A4008aCD&#39;</span><span class="p">,</span> <span class="s">&#39;/dev/tty.usbmodemfd1311&#39;</span><span class="p">]</span>

<span class="n">dxl_io</span> <span class="o">=</span> <span class="n">pypot</span><span class="o">.</span><span class="n">dynamixel</span><span class="o">.</span><span class="n">DxlIO</span><span class="p">(</span><span class="s">&#39;/dev/tty.usbserial-A4008aCD&#39;</span><span class="p">)</span>
<span class="k">print</span> <span class="n">dxl_io</span><span class="o">.</span><span class="n">scan</span><span class="p">()</span>
<span class="p">[</span><span class="mi">11</span><span class="p">,</span> <span class="mi">12</span><span class="p">,</span> <span class="mi">13</span><span class="p">,</span> <span class="mi">14</span><span class="p">,</span> <span class="mi">15</span><span class="p">,</span> <span class="mi">16</span><span class="p">]</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">You can save/load configurations from any format that can be written/read as a Python dictionary. A wrapper for loading json configuration file is provided (see <a class="reference internal" href="pypot.robot.html#pypot.robot.config.from_json" title="pypot.robot.config.from_json"><tt class="xref py py-func docutils literal"><span class="pre">from_json()</span></tt></a>).</p>
</div>
<p>Once you have edited the configuration dictionary, you should be able to instantiate your robot directly like this:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pypot.robot</span>

<span class="n">ergo_robot</span> <span class="o">=</span> <span class="n">pypot</span><span class="o">.</span><span class="n">robot</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">my_config</span><span class="p">)</span>
</pre></div>
</div>
<p>At this point, if you have not seen any errors it means that you are successfully connected to your robot! You can find details on how to write more complex configuration file in the <a class="reference internal" href="tutorial.html#config-file"><em>Writing the configuration</em></a> section.</p>
</div>
<div class="section" id="controlling-your-ergo-robot">
<span id="dance"></span><h3>Controlling your Ergo-Robot<a class="headerlink" href="#controlling-your-ergo-robot" title="Permalink to this headline">¶</a></h3>
<p>Now that you are connected to your Ergo-Robot, let&#8217;s write a very simple program to make it dance a bit.</p>
<p>First, write the following lines to start you robot (we assume that you have correctly setup your configuration):</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">pypot.robot</span>

<span class="n">ergo_robot</span> <span class="o">=</span> <span class="n">pypot</span><span class="o">.</span><span class="n">robot</span><span class="o">.</span><span class="n">from_config</span><span class="p">(</span><span class="n">my_config</span><span class="p">)</span>
<span class="n">ergo_robot</span><span class="o">.</span><span class="n">start_sync</span><span class="p">()</span>
</pre></div>
</div>
<p>Except from the last line, everything should be clear now. This new line starts the synchronization between the &#8220;software&#8221; robot and the real one, i.e. all commands that you will send in python code will automatically be sent to the physical Ergo-Robot (for details on the underlying mechanisms, see <a class="reference internal" href="tutorial.html#sync-loop"><em>Sync Loop</em></a>).</p>
<p>Now, we are going to put the robot in its initial position:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="k">for</span> <span class="n">m</span> <span class="ow">in</span> <span class="n">ergo_robot</span><span class="o">.</span><span class="n">motors</span><span class="p">:</span>
    <span class="n">m</span><span class="o">.</span><span class="n">compliant</span> <span class="o">=</span> <span class="bp">False</span>

    <span class="c"># Go to the position 0 within 2 seconds.</span>
    <span class="c"># Note that the position is expressed in degrees.</span>
    <span class="n">m</span><span class="o">.</span><span class="n">goto_position</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<p>The robot should raise and smoothly go to its base position. Now, we are going to move it to a more stable position. We will use it as a rest position for our dance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="n">rest_pos</span> <span class="o">=</span> <span class="p">{</span><span class="s">&#39;base_tilt_lower&#39;</span><span class="p">:</span> <span class="mi">45</span><span class="p">,</span>
            <span class="s">&#39;base_tilt_upper&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">45</span><span class="p">,</span>
            <span class="s">&#39;head_tilt_lower&#39;</span><span class="p">:</span> <span class="mi">30</span><span class="p">,</span>
            <span class="s">&#39;head_tilt_upper&#39;</span><span class="p">:</span> <span class="o">-</span><span class="mi">30</span><span class="p">}</span>

<span class="c"># You can directly set new positions to motors by providing</span>
<span class="c"># the Robot goto_position method with a dictionary such as</span>
<span class="c"># {motor_name: position, motor_name: position...}</span>
<span class="n">ergo_robot</span><span class="o">.</span><span class="n">goto_position</span><span class="p">(</span><span class="n">rest_pos</span><span class="p">,</span> <span class="n">duration</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">wait</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
</pre></div>
</div>
<p>We will now create a very simple dance just by applying two sinus with opposite phases on the base and head motors of the robot:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="kn">import</span> <span class="nn">numpy</span>
<span class="kn">import</span> <span class="nn">time</span>

<span class="n">amp</span> <span class="o">=</span> <span class="mi">30</span>
<span class="n">freq</span> <span class="o">=</span> <span class="mf">0.5</span>

<span class="c"># As you can notice, property to access the motors defined</span>
<span class="c"># in the configuration file are automatically created.</span>
<span class="n">ergo_robot</span><span class="o">.</span><span class="n">base_pan</span><span class="o">.</span><span class="n">moving_speed</span> <span class="o">=</span> <span class="mi">0</span> <span class="c"># 0 corresponds to the max speed</span>
<span class="n">ergo_robot</span><span class="o">.</span><span class="n">head_pan</span><span class="o">.</span><span class="n">moving_speed</span> <span class="o">=</span> <span class="mi">0</span>

<span class="n">t0</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
<span class="k">while</span> <span class="bp">True</span><span class="p">:</span>
    <span class="n">t</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span> <span class="o">-</span> <span class="n">t0</span>
    <span class="k">if</span> <span class="n">t</span> <span class="o">&gt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">break</span>

    <span class="n">x</span> <span class="o">=</span> <span class="n">amp</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">sin</span><span class="p">(</span><span class="mi">2</span> <span class="o">*</span> <span class="n">numpy</span><span class="o">.</span><span class="n">pi</span> <span class="o">*</span> <span class="n">freq</span> <span class="o">*</span> <span class="n">t</span><span class="p">)</span>
    <span class="n">ergo_robot</span><span class="o">.</span><span class="n">base_pan</span><span class="o">.</span><span class="n">goal_position</span> <span class="o">=</span> <span class="n">x</span>
    <span class="n">ergo_robot</span><span class="o">.</span><span class="n">head_pan</span><span class="o">.</span><span class="n">goal_position</span> <span class="o">=</span> <span class="o">-</span><span class="n">x</span>

    <span class="n">time</span><span class="o">.</span><span class="n">sleep</span><span class="p">(</span><span class="mf">0.02</span><span class="p">)</span>
</pre></div>
</div>
<p>Your robot should start dancing for ten seconds. Now, that you have seen the very basic things that you can do with PyPot. It is time to jump on the <a class="reference internal" href="tutorial.html"><em>tutorial</em></a> to get a complete overview of the possibility.</p>
</div>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2012, Pierre Rouanet, Matthieu Lapeyre, Haylee Fogg.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2.1.<br/>
    </p>
  </div>
</footer>
  </body>
</html>